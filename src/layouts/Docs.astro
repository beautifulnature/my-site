---
import '../styles/global.css';
import DocsTocScript from '../components/DocsTocScript.astro';

const { title, enableToc = false } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>
  </head>
  <body class="min-h-screen bg-slate-950 text-slate-50">
    <div class="flex min-h-screen">
      <!-- LEFT NAV -->
      <aside
        id="sidebar"
        class="w-64 border-r border-slate-800 p-6 md:block sidebar-hidden"
      >
        <h2 class="mb-4 text-lg font-semibold">Navigation</h2>

        <div class="mb-6">
          <h3 class="mb-2 text-sm font-semibold uppercase tracking-wide text-slate-400">
            Docs
          </h3>
          <ul class="space-y-1 text-sm text-slate-300">
            <li><a href="/" class="hover:text-white">Overview</a></li>
            <li><a href="/patterns" class="hover:text-white">Patterns</a></li>
            <li><a href="/docs/api" class="hover:text-white">API</a></li>
          </ul>
        </div>

        <div class="mb-6">
          <h3 class="mb-2 text-sm font-semibold uppercase tracking-wide text-slate-400">
            Math
          </h3>
          <ul class="space-y-1 text-sm text-slate-300">
            <li><a href="/math" class="hover:text-white">Overview</a></li>
            <li><a href="/math/matrix" class="hover:text-white">Matrix Notes</a></li>
            <li><a href="/math/optimization" class="hover:text-white">Optimization</a></li>
          </ul>
        </div>

        <div class="mb-6">
          <h3 class="mb-2 text-sm font-semibold uppercase tracking-wide text-slate-400">
            Notes
          </h3>
          <ul class="space-y-1 text-sm text-slate-300">
            <li><a href="/notes" class="hover:text-white">All Notes</a></li>
            <li><a href="/notes/today" class="hover:text-white">Today</a></li>
            <li><a href="/notes/ideas" class="hover:text-white">Ideas</a></li>
          </ul>
        </div>

        <div class="mb-6">
          <h3 class="mb-2 text-sm font-semibold uppercase tracking-wide text-slate-400">
            Resources
          </h3>
          <ul class="space-y-1 text-sm text-slate-300">
            <li><a href="/resources" class="hover:text-white">Overview</a></li>
            <li><a href="/blog" class="hover:text-white">Blog</a></li>
            <li><a href="/resources/videos" class="hover:text-white">Videos</a></li>
            <li>
              <a href="/resources/stories" class="hover:text-white">
                Customer stories
              </a>
            </li>
            <li><a href="/resources/events" class="hover:text-white">Events</a></li>
            <li><a href="/resources/press" class="hover:text-white">Press</a></li>
            <li>
              <a href="/resources/newsletter" class="hover:text-white">
                Newsletter
              </a>
            </li>
          </ul>
        </div>
      </aside>

      <!-- MAIN + RIGHT TOC -->
      <main class="flex flex-1">
        <div
          id="article-root"
          class="mx-auto flex-1 max-w-3xl p-6 md:p-10"
        >
          <slot />
        </div>

        {enableToc && (
          <aside
            id="article-toc"
            class="hidden w-64 border-l border-slate-800 p-4 text-sm text-slate-300 xl:block"
          >
            <h2 class="mb-3 text-xs font-semibold uppercase tracking-wide text-slate-400">
              On this page
            </h2>
            <nav>
              <ul id="article-toc-list" class="space-y-1 text-xs"></ul>
            </nav>
          </aside>
        )}
      </main>
    </div>

    <DocsTocScript enableToc={enableToc} />
  </body>
</html>