---
import "../styles/global.css";
import DocsTocScript from "../components/DocsTocScript.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

const { title, enableToc = false } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>
  </head>
  <body>
    <a
      href="#main-content"
      class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-[100] focus:rounded-md focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-semibold focus:text-slate-900 focus:shadow-lg"
    >
      Skip to content
    </a>

    <div class="flex flex-col min-h-screen">
    <div
      class="bg-indigo-600 px-4 py-2 text-center text-[11px] font-medium tracking-wide text-white sm:py-2.5 sm:text-xs"
    >
      Timefold launches Scheduling Intelligence: the future of workforce
      scheduling is here.
      <a href="#intelligence" class="ml-2 underline underline-offset-2"
        >Read more</a
      >
    </div>
    <Header />
    <div class="flex flex-1 pt-16">
      <!-- LEFT NAV -->
      <aside
        id="sidebar"
        class="w-64 border-r border-slate-800 p-6 md:block sidebar-hidden text-black"
      >
        <button
          id="sidebar-toggle-btn"
          class="mb-4 px-2 py-1 rounded bg-slate-800 hover:bg-slate-700 focus:outline-none md:hidden"
        >
          Toggle Navigation
        </button>
        <h2 class="mb-4 text-lg font-semibold">Navigation</h2>

        <div class="mb-6">
          <ul class="space-y-1 text-sm">
            <li><a href="/docs" class="hover:text-white">Documentation</a></li>
          </ul>
        </div>

        <div class="mb-6">
          <ul class="space-y-1 text-sm">
            <li><a href="/math" class="hover:text-white">Math</a></li>
          </ul>
        </div>

        <div class="mb-6">
          <ul class="space-y-1 text-sm">
            <li><a href="/notes" class="hover:text-white">Notes</a></li>
          </ul>
        </div>

        <div class="mb-6">
          <h3 class="mb-2 text-sm font-semibold uppercase tracking-wide">
            Resources
          </h3>
          <ul class="space-y-1 text-sm">
            <li><a href="/resources" class="hover:text-white">Overview</a></li>
            <li><a href="/blog" class="hover:text-white">Blog</a></li>
            <li>
              <a href="/resources/videos" class="hover:text-white">Videos</a>
            </li>
            <li>
              <a href="/resources/stories" class="hover:text-white">
                Customer stories
              </a>
            </li>
            <li>
              <a href="/resources/events" class="hover:text-white">Events</a>
            </li>
            <li>
              <a href="/resources/press" class="hover:text-white">Press</a>
            </li>
            <li>
              <a href="/resources/newsletter" class="hover:text-white">
                Newsletter
              </a>
            </li>
          </ul>
        </div>
      </aside>

      <button
        type="button"
        aria-label="Close menu"
        class="fixed inset-0 z-30 hidden bg-slate-900/20 backdrop-blur-[1px] lg:hidden"
        data-mobile-backdrop></button>

      <main id="main-content" class="flex-1 p-6 md:p-10">
        <slot />
      </main>

      <!-- MAIN + RIGHT TOC -->
      <!-- <main class="flex flex-1">
        <div class="mx-auto flex-1 max-w-3xl p-6 md:p-10">
          <slot />
        </div> -->

      {
        enableToc && (
          <aside
            id="article-toc"
            class="hidden xl:block w-64 border-l border-slate-800 p-4 text-sm text-black sticky top-16 self-start"
          >
            <h2 class="mb-3 text-xs font-semibold uppercase tracking-wide">
              On this page
            </h2>
            <nav>
              <ul id="article-toc-list" class="space-y-1 text-xs" />
            </nav>
          </aside>
        )
      }
    </div>
    </div>

    <DocsTocScript enableToc={enableToc} />
    <Footer />
  </body>
</html>
