---
import type { MoreListItem } from '../types/content';

interface Props {
  items: MoreListItem[];
  title: string;
  basePath: string;
  renderMetadata?: (item: MoreListItem) => string;
}

const { items, title, basePath, renderMetadata } = Astro.props;
---

{items.length > 0 && (
  <section class="mt-12 border-t border-slate-800 pt-6">
    <h2 class="h2-section-label text-sm font-semibold text-slate-400">
      {title}
    </h2>
    <div class="more-grid">
      {items.map((item) => (
        <a
          href={`${basePath}${item.slug}/`}
          class="flex flex-col rounded-xl border border-slate-800 bg-slate-900/60 p-4 hover:border-sky-500"
        >
            <p class="eyebrow-label text-[11px] text-slate-500">
              {item.data.date.toLocaleDateString()}
          </p>
          <h3 class="text-sm font-semibold text-slate-50">
            {item.data.title}
          </h3>
          {renderMetadata && (
            <p class="line-clamp-3 text-xs text-slate-400">
              {renderMetadata(item)}
            </p>
          )}
        </a>
      ))}
    </div>
  </section>
)}
