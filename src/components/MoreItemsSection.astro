---
interface Props {
  items: any[];
  title: string;
  basePath: string;
  renderMetadata?: (item: any) => string;
}

const { items, title, basePath, renderMetadata } = Astro.props;
---

{items.length > 0 && (
  <section class="mt-12 border-t border-slate-800 pt-6">
    <h2 class="mb-4 text-sm font-semibold uppercase tracking-wide text-slate-400">
      {title}
    </h2>
    <div class="grid gap-4 md:grid-cols-3">
      {items.map((item, idx) => (
        <a
          href={`${basePath}${item.slug}/`}
          class="flex flex-col rounded-xl border border-slate-800 bg-slate-900/60 p-4 hover:border-sky-500"
        >
          <p class="mb-1 text-[11px] uppercase tracking-wide text-slate-500">
            {item.data.date.toLocaleDateString()}
          </p>
          <h3 class="text-sm font-semibold text-slate-50">
            {item.data.title}
          </h3>
          {renderMetadata && (
            <p class="mt-2 line-clamp-3 text-xs text-slate-400">
              {renderMetadata(item)}
            </p>
          )}
        </a>
      ))}
    </div>
  </section>
)}
