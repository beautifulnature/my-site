---
import {
  RESOURCE_CARD_PLACEHOLDER_SRC,
  RESOURCE_CARD_PLACEHOLDER_SRCSET,
} from '../utils/cardMedia';

interface Props {
  href: string;
  title: string;
  dateText: string;
  dateClass?: string;
  titleClass?: string;
  secondaryText?: string;
  secondaryClass?: string;
  description?: string;
  descriptionClass?: string;
  imageSrc?: string;
  imageSrcSet?: string;
  imageAlt?: string;
}

const {
  href,
  title,
  dateText,
  dateClass = 'meta-label',
  titleClass = 'font-semibold',
  secondaryText,
  secondaryClass,
  description,
  descriptionClass,
  imageSrc = RESOURCE_CARD_PLACEHOLDER_SRC,
  imageSrcSet = RESOURCE_CARD_PLACEHOLDER_SRCSET,
  imageAlt = '',
} = Astro.props;
---

<a
  href={href}
  class="resource-link-card more-item-resource-card more-item-resource-card--tone"
>
  <picture class="c-picture c-link-card__media c-picture--focal-center u-overlay u-overlay--strong more-item-resource-picture">
    <img
      class="c-picture__image eager"
      sizes="(min-width: 768px) 33vw, 100vw"
      src={imageSrc}
      srcset={imageSrcSet}
      height="144"
      width="180"
      alt={imageAlt}
      loading="lazy"
    />
  </picture>

  <span class="more-item-resource-card-content">
    <p class={dateClass}>
      {dateText}
    </p>
    <h3 class={titleClass}>
      {title}
    </h3>
    {secondaryText && (
      <p class={secondaryClass}>
        {secondaryText}
      </p>
    )}
    {description && (
      <p class={descriptionClass}>
        {description}
      </p>
    )}
  </span>
</a>
