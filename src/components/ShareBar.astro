---
const { url, title } = Astro.props;

const pageUrl = url;
const tweetText = encodeURIComponent(title);

const twitterShare = `https://twitter.com/intent/tweet?url=${encodeURIComponent(
  pageUrl,
)}&text=${tweetText}`;
const linkedinShare = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(
  pageUrl,
)}`;
const hackerNewsShare = `https://news.ycombinator.com/submitlink?u=${encodeURIComponent(
  pageUrl,
)}&t=${tweetText}`;
---

<div class="flex flex-wrap items-center gap-2">
  <span class="flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 bg-slate-900/60 text-slate-300">
    {/* generic share icon */}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      class="h-4 w-4"
      fill="none"
      stroke="currentColor"
      stroke-width="1.8"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <circle cx="18" cy="5" r="3" />
      <circle cx="6" cy="12" r="3" />
      <circle cx="18" cy="19" r="3" />
      <path d="M8.59 11.51 15.42 7.49" />
      <path d="M8.59 12.49 15.42 16.51" />
    </svg>
  </span>

  <a
    href={twitterShare}
    target="_blank"
    rel="noreferrer"
    class="flex items-center justify-center rounded-full border border-slate-700 p-2 hover:border-[#4900f8] hover:text-white transition-colors"
    aria-label="Share on Twitter / X"
  >
    {/* X icon */}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      class="h-4 w-4"
      fill="currentColor"
    >
      <path d="M18.244 3.515h3.308l-7.227 8.26 8.502 11.21H16.17l-4.927-6.437L5.55 22.985H2.24l7.73-8.85L1.79 3.515h6.828l4.453 5.836 5.173-5.836Z" />
    </svg>
  </a>

  <a
    href={linkedinShare}
    target="_blank"
    rel="noreferrer"
    class="flex items-center justify-center rounded-full border border-slate-700 p-2 hover:border-[#4900f8] hover:text-white transition-colors"
    aria-label="Share on LinkedIn"
  >
    {/* LinkedIn icon */}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      class="h-4 w-4"
      fill="currentColor"
    >
      <path d="M4.983 3.5C4.983 4.88 3.88 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1 4.983 2.12 4.983 3.5zM.29 8.25h4.42V24H.29V8.25zm7.34 0h4.24v2.13h.06c.59-1.12 2.03-2.3 4.18-2.3 4.47 0 5.29 2.94 5.29 6.76V24h-4.42v-7.39c0-1.76-.03-4.03-2.46-4.03-2.47 0-2.85 1.93-2.85 3.91V24H7.63V8.25z" />
    </svg>
  </a>

  <a
    href={hackerNewsShare}
    target="_blank"
    rel="noreferrer"
    class="flex items-center justify-center rounded-full border border-slate-700 p-2 hover:border-[#4900f8] hover:text-white transition-colors"
    aria-label="Share on Hacker News"
  >
    {/* HN icon */}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      class="h-4 w-4"
      fill="currentColor"
    >
      <path d="M4 4h16v16H4V4zm8.707 7.293 2.586-4.586h-1.732L12 10.382 10.439 6.707H8.707l2.586 4.586V16h1.414v-4.707z" />
    </svg>
  </a>
</div>